<div class="toolbar">
    <input [formControl]="searchControl" placeholder="חיפוש לפי שם קטגוריה" class="search-input" />

    <button mat-raised-button color="primary" (click)="addCategory()">הוסף קטגוריה</button>
</div>

<div class="cards-container">
    @for (category of categories; track category.categoryID) {
    <mat-card class="card mat-elevation-z4">
        <mat-card-header>
            <mat-card-title>{{ category.categoryName }}</mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <p>כמות ברכות שנוצרו: {{categoryState[category.categoryID].cards}}</p>
            <p>כמות רקעים זמינים: {{categoryState[category.categoryID].templates}}</p>
            <p>כמות תכנים זמינים: {{categoryState[category.categoryID].contents}} </p>
        </mat-card-content>

        <mat-card-actions align="end">
            <button mat-button color="accent" (click)="editCategory(category)">עריכה</button>
            @if (categoryState[category.categoryID].cards===0 &&
            categoryState[category.categoryID].templates===0 &&
            categoryState[category.categoryID].contents===0
            ) {
            <button mat-button color="warn" (click)="deleteCategory(category.categoryID)">מחיקה</button>
            }
        </mat-card-actions>
    </mat-card>
    }
</div>