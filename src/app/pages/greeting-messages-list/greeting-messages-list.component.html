@if (loading) {
<ng-container>
    <mat-progress-spinner mode="indeterminate" color="primary" diameter="40"></mat-progress-spinner>
    <div>Loading messages...</div>
</ng-container>
}

@if (error) {
    <ng-container>
        <mat-card class=" error-card">
            <!-- <mat-card-header>
                <mat-card-title>Error</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <p>{{ error }}</p>
            </mat-card-content> -->
        <mat-icon color="warn">error</mat-icon>
        <!-- <div> -->
            {{ error }}
        <!-- </div> -->
         </mat-card>
    </ng-container>
}

@if (messages.length>0) {
    <ng-container>
            <mat-card>
              <mat-card-title>רשימת הודעות</mat-card-title>
              <div class="table-container">
                <table mat-table [dataSource]="messages" class="mat-elevation-z2">
          
                  <!-- Title Column -->
                  <ng-container matColumnDef="title">
                    <th mat-header-cell *matHeaderCellDef> כותרת </th>
                    <td mat-cell *matCellDef="let message"> {{message.title}} </td>
                  </ng-container>
          
                  <!-- Category Column -->
                  <ng-container matColumnDef="categoryID">
                    <th mat-header-cell *matHeaderCellDef> קטגוריה </th>
                    <td mat-cell *matCellDef="let message"> {{message.categoryID}} </td>
                  </ng-container>
          
                  <!-- Content Column -->
                  <ng-container matColumnDef="content">
                    <th mat-header-cell *matHeaderCellDef> תוכן </th>
                    <td mat-cell *matCellDef="let message"> {{message.content}} </td>
                  </ng-container>
          
                  <!-- Signature Column -->
                  <ng-container matColumnDef="signature">
                    <th mat-header-cell *matHeaderCellDef> חתימה </th>
                    <td mat-cell *matCellDef="let message"> {{message.signature}} </td>
                  </ng-container>
          
                  <!-- Actions Column -->
                  <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef> פעולות </th>
                    <td mat-cell *matCellDef="let message">
                      <button mat-icon-button color="warn" (click)="deleteMessage(message.textID)">
                        <mat-icon>delete</mat-icon>
                      </button>
                    </td>
                  </ng-container>
          
                  <tr mat-header-row *matHeaderRowDef="['title', 'categoryID', 'content', 'signature', 'actions']"></tr>
                  <tr mat-row *matRowDef="let row; columns: ['title', 'categoryID', 'content', 'signature', 'actions'];"></tr>
                </table>
              </div>
            </mat-card>
          </ng-container>

}
<!-- @if (loading) {
<div>Loading messages...</div>
}
@if (error) {
<div>{{ error }}</div>
}
@if (messages.length>0) {
<table>
    <thead>
        <tr>
            <th>Title</th>
            <th>Category</th>
            <th>Content</th>
            <th>Signature</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @for (message of messages; track $index) {
        <tr>
            <td>{{ message.title }}</td>
            <td>{{ message.categoryID }}</td>
            <td>{{ message.content }}</td>
            <td>{{ message.signature }}</td>
            <td>
                <button (click)="deleteMessage(message.textID)">Delete</button>
            </td>
        </tr>
        }
    </tbody>
</table>
} -->